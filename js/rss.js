function Post(t="",e="",n="",o=new Date){this.title=t,this.content=e,this.url=n,this.date=o}async function getRecentPosts(){let t=[],e=await fetch("https://blog.leloctai.com/feed.xml"),n=await e.text(),o=(new DOMParser).parseFromString(n,"text/xml");for(const e of o.getElementsByTagName("entry")){let n=new Post(e.getElementsByTagName("title")[0].textContent,e.getElementsByTagName("summary")[0].textContent,e.getElementsByTagName("link")[0].getAttribute("href"),new Date(e.getElementsByTagName("updated")[0].textContent));t.push(n)}return t}Post.prototype.toDOMNode=function(){let t=document.getElementById("blog-post-template"),e=document.importNode(t.content,!0),n=e.querySelector(".blog-post-link");return n.textContent=this.title,n.setAttribute("href",this.url),e.querySelector(".blog-post-date").textContent=this.date.toLocaleDateString(),e.querySelector(".blog-post-excerpt").textContent=this.content+"...",e},window.addEventListener("load",(async function(){let t=document.getElementById("recent-blog-posts"),e=await getRecentPosts();e.length>0&&(t.innerHTML="");for(const n of e)t.appendChild(n.toDOMNode())}));